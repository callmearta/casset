(this.webpackJsonpmarta=this.webpackJsonpmarta||[]).push([[0],{105:function(e,t,a){},106:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),i=a.n(c),s=(a(56),a(4)),l=a(12),u=a(2),o=a(14);var m=function(e){var t=e.loading,a=e.children;return t?r.a.createElement("div",{className:"loading"},r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))):a},d=function(){return{type:"TOGGLE_PLAY"}},g=function(e){return{type:"SET_MUSIC",payload:e}},p=function(e){return{type:"SET_PLAYLIST",payload:e}},f=function(e){return{type:"SET_INITIALIZED",payload:e}};var E=Object(s.b)((function(e){return{currentMusic:e.playerReducer.music,isPlaying:e.playerReducer.isPlaying}}),(function(e){return{setMusic:function(t){return e(g(t))},togglePlay:function(){return e({type:"TOGGLE_PLAY"})},setInitialized:function(){return e(f(!0))}}}))((function(e){var t=e.music,a=e.currentMusic,n=e.setMusic,c=e.togglePlay,i=e.isPlaying,s=e.setInitialized,l=e.setCurrentPlaylist;return r.a.createElement("div",{className:"music-wrapper",onClick:function(){return l(),a.id===t.id?c():(s(),n(t))}},r.a.createElement("div",{className:"music-wrapper__image"},a.id===t.id?r.a.createElement("div",{className:"music-wrapper__image__overlay"},r.a.createElement("i",{className:"fal ".concat(i?"fa-pause":"fa-play")})):"",r.a.createElement("img",{src:t.cover,alt:t.title})),r.a.createElement("div",{className:"music-wrapper__body"},r.a.createElement("strong",null,t.name),r.a.createElement("small",null,t.artists.length>1?t.artists.map((function(e,a){return e.name+(a!==t.artists.length-1?", ":"")})):t.artists[0].name)))}));var b={setCurrentPlaylist:p},v=Object(s.b)(null,b)((function(e){var t=e.musics,a=e.loading,n=e.title,c=e.setCurrentPlaylist,i=function(){c(t.reduce((function(e,t){return e.find((function(e){return e.id===t.id}))?e:[].concat(Object(o.a)(e),[t])}),[]))};return r.a.createElement(m,{loading:a},r.a.createElement("h2",{className:"section-title"},n),r.a.createElement("div",{className:"musics-container"},r.a.createElement("div",{className:"musics-container__inner"},t.map((function(e){return r.a.createElement(E,{key:e.id,setCurrentPlaylist:i,music:e})})))))})),y=a(29),h=a.n(y);a(36),a(37);var _=Object(u.g)((function(e){var t=e.playlist,a=e.history;return r.a.createElement("div",{className:"music-wrapper playlist-wrapper",onClick:function(){return a.push("/playlist/".concat(t.id))}},r.a.createElement("div",{className:"music-wrapper__image playlist-wrapper__image"},r.a.createElement("img",{src:t.image,alt:t.name})),r.a.createElement("div",{className:"music-wrapper__body playlist-wrapper__body"},r.a.createElement("strong",null,t.name)))}));var O=function(e){var t=e.playlists,a=e.noSlide,n={dots:!1,infinite:!1,speed:250,slidesToScroll:1,variableWidth:!0};return r.a.createElement("div",{className:"musics-container playlists-container".concat(a?" no-slide":"")},!a&&window.innerWidth>1024?r.a.createElement(h.a,n,t.map((function(e){return r.a.createElement("div",{key:e.id,className:"slick-item-outer"},r.a.createElement(_,{playlist:e}))}))):t.map((function(e){return r.a.createElement("div",{key:e.id,className:"slick-item-outer"},r.a.createElement(_,{playlist:e}))})))};var j=Object(u.g)((function(e){var t=e.artist,a=e.history;return r.a.createElement("div",{className:"artist-wrapper",onClick:function(){return a.push("/artist/".concat(t.id))}},r.a.createElement("div",{className:"artist-wrapper__image"},r.a.createElement("img",{src:t.image,alt:t.name})),r.a.createElement("div",{className:"artist-wrapper__body"},r.a.createElement("strong",null,t.name)))}));var N=function(e){var t=e.artists,a=e.noSlide,n={dots:!1,infinite:!1,speed:250,slidesToScroll:1,variableWidth:!0};return r.a.createElement("div",{className:"musics-container artists-container".concat(a?" no-slide":"")},!a&&window.innerWidth>1024?r.a.createElement(h.a,n,t.map((function(e){return r.a.createElement("div",{key:e.id,className:"slick-item-outer"},r.a.createElement(j,{artist:e}))}))):t.map((function(e){return r.a.createElement("div",{key:e.id,className:"slick-item-outer"},r.a.createElement(j,{artist:e}))})))};var S=function(e){var t=e.data,a=t.type,n=t.data,c=t.name,i=e.hero;return r.a.createElement("div",{className:"vitrine-wrapper".concat(i?" hero-wrapper":"")},"ad"!==a?r.a.createElement("h2",{className:"section-title vitrine-title"},c):"",{musics:r.a.createElement(v,{musics:n,loading:!1}),artists:r.a.createElement(N,{artists:n}),grid:r.a.createElement(v,{musics:n,loading:!1}),playlists:r.a.createElement(O,{playlists:n,loading:!1}),playlist_grid:r.a.createElement(O,{playlists:n,loading:!1}),hero_sliders:r.a.createElement(O,{playlists:n,loading:!1}),genres:r.a.createElement(O,{playlists:n,loading:!1}),albums:r.a.createElement(O,{playlists:n,loading:!1})}[a])},w=a(5),k=a.n(w),C=a(8),T=a(17),I=a.n(T),P="https://cassetmusic.com/api/v1",F=function(e,t){return t(e.data)},x=function(e,t){return e.response&&t(e.response.data),console.error(e)},L={getMusics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"us";return new Promise((function(t){I()({url:"".concat(P,"/musics?region=").concat(e),method:"GET"}).then((function(e){return F(e,t)})).catch((function(e){return x(e,t)}))}))},getPlaylistsVitrines:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"us",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return new Promise((function(a){I()({url:"".concat(P,"/playlists/vitrines?count=").concat(t,"&region=").concat(e),method:"GET"}).then((function(e){return F(e,a)})).catch((function(e){return x(e,a)}))}))},getPlaylistById:function(e){return new Promise((function(t){I()({url:"".concat(P,"/playlist?id=").concat(e),method:"GET"}).then((function(e){return F(e,t)})).catch((function(e){return x(e,t)}))}))},getSearch:function(e){return new Promise((function(t){I()({url:"".concat(P,"/search?name=").concat(e),method:"GET"}).then((function(e){return F(e,t)})).catch((function(e){return x(e,t)}))}))},getArtist:function(e){return new Promise((function(t){I()({url:"".concat(P,"/artist?id=").concat(e),method:"GET"}).then((function(e){return F(e,t)})).catch((function(e){return x(e,t)}))}))},getAlbum:function(e){return new Promise((function(t){I()({url:"".concat(P,"/album?id=").concat(e),method:"GET"}).then((function(e){return F(e,t)})).catch((function(e){return x(e,t)}))}))}};var R={fetchMusicsFind:function(e){return function(){var t=Object(C.a)(k.a.mark((function t(a,n){var r,c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"FETCH_MUSICS_FIND",region:e}),t.next=3,L.getMusics("global"===e?"us":"ir");case 3:if(!(r=t.sent).success){t.next=8;break}return c=r.data,n().playerReducer.music.id||(a(g(c[0])),a(p(c)),a({type:"TOGGLE_PLAY"})),t.abrupt("return",a({payload:c,type:"FETCH_MUSICS_FIND_SUCCESS",region:e}));case 8:return t.abrupt("return",a({type:"FETCH_MUSICS_FIND_FAILED",region:e}));case 9:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},fetchVitrines:function(e){return function(){var t=Object(C.a)(k.a.mark((function t(a){var n,r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"FETCH_VITRINES",region:e}),t.next=3,L.getPlaylistsVitrines("global"===e?"us":"ir");case 3:if(!(n=t.sent).success){t.next=7;break}return r=n.data,t.abrupt("return",a({payload:r,type:"FETCH_VITRINES_SUCCESS",region:e}));case 7:return t.abrupt("return",a({type:"FETCH_VITRINES_FAILED",region:e}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},M=Object(s.b)((function(e){return{homeState:e.homeReducer}}),R)(Object(u.g)((function(e){var t=e.match,a=e.homeState,c=e.fetchMusicsFind,i=e.fetchVitrines,s=t.params.region||"global";return Object(n.useEffect)((function(){a[s].musicsFind.data.length||c(s),a[s].vitrines.data.length||i(s)}),[]),r.a.createElement("main",{className:"container"},r.a.createElement(v,{title:"Discover New Music",musics:a[s].musicsFind.data,loading:a[s].musicsFind.loading}),a[s].vitrines.loading?r.a.createElement(m,{loading:!0}):a[s].vitrines.data.map((function(e){return"hero_sliders"===e.type?r.a.createElement(S,{hero:!0,key:e.id,data:e}):r.a.createElement(S,{key:e.id,data:e})})))}))),A=a(1),U=a(9),H=a(21),D=a.n(H);var z={setMusic:g,togglePlay:d,setInitialized:f},G=Object(s.b)((function(e){var t=e.playerReducer;return{currentMusic:t.music,isPlaying:t.isPlaying}}),z)((function(e){var t=e.music,a=e.currentMusic,n=e.setMusic,c=e.togglePlay,i=e.isPlaying,s=e.setInitialized,l=e.setCurrentPlaylist,u=t.thumbnail&&t.thumbnail.length?t.thumbnail:t.cover,o=a.id===t.id,m=t.artists.map((function(e,a){return e.name+(a!==t.artists.length-1?", ":"")})),d=D()("track",{"track--playing":o});return r.a.createElement("div",{className:d,onClick:function(){l(),o?c():(s(!0),n(t))}},r.a.createElement("img",{className:"track__cover",src:u,alt:t.name}),r.a.createElement("div",{className:"track__content"},r.a.createElement("div",{className:"track__details"},r.a.createElement("h2",{className:"track__name"},t.name),r.a.createElement("h3",{className:"track__artist"},m)),r.a.createElement("div",{className:"track__actions"},t.play_count&&r.a.createElement("b",{className:"track__play-count"},t.play_count,r.a.createElement("small",null,"plays")),o&&i?r.a.createElement("i",{className:"track__play-icon fal fa-pause"}):r.a.createElement("i",{className:"track__play-icon fal fa-play"}))))}));var W=Object(s.b)(null,(function(e){return{setCurrentPlaylist:function(t){return e(p(t))}}}))(Object(u.g)((function(e){var t=e.setCurrentPlaylist,a=e.match,c=e.history,i=Object(n.useState)(a.params.id),s=Object(U.a)(i,1)[0],l=Object(n.useState)({data:{},loading:!0}),u=Object(U.a)(l,2),d=u[0],g=u[1],p=function(){var e=Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(Object(A.a)(Object(A.a)({},d),{},{loading:!0})),e.next=3,L.getPlaylistById(s);case 3:(t=e.sent).success?t.data.musics?g({data:Object(A.a)(Object(A.a)({},t.data),{},{musics:t.data.musics.reduce((function(e,t){return e.find((function(e){return e.id===t.id}))?e:[].concat(Object(o.a)(e),[t])}),[])}),loading:!1}):g({data:t.data,loading:!1}):c.replace("/");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){t(d.data.musics.reduce((function(e,t){return e.find((function(e){return e.id===t.id}))?e:[].concat(Object(o.a)(e),[t])}),[]))};return Object(n.useEffect)((function(){s&&p()}),[]),r.a.createElement("main",{className:"container"},d.loading?r.a.createElement(m,{loading:d.loading}):d.data.musics?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex align-items-center justify-content-center flex-column"},r.a.createElement("div",{className:"circle-image"},r.a.createElement("img",{src:d.data.playlist.image,alt:d.data.playlist.name})),r.a.createElement("h1",null,d.data.playlist.name),r.a.createElement("small",{className:"playlist-artists mt-5"},d.data.artists.map((function(e,t){return e.name+(t!==d.data.artists.length-1?", ":"")}))),r.a.createElement("div",{className:"tags-wrapper"},d.data.categories.map((function(e){return r.a.createElement("span",{key:e.id,className:"tag"},e.name)})))),r.a.createElement("div",{className:"tracks-wrapper"},d.data.musics.map((function(e){return r.a.createElement(G,{setCurrentPlaylist:f,music:e,key:e.id})})))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"section-title"},"Playlists"),r.a.createElement(O,{playlists:d.data})))})));var V=Object(u.g)((function(e){var t=e.match,a=e.history,c=t.params.id,i=Object(n.useState)({data:{},loading:!0}),s=Object(U.a)(i,2),l=s[0],u=s[1],o=function(){var e=Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(Object(A.a)(Object(A.a)({},l),{},{loading:!0})),e.next=3,L.getPlaylistById(c);case 3:(t=e.sent).success?u(t.data):a.replace("/");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){c&&o()}),[]),r.a.createElement("main",{className:"container"},r.a.createElement(O,{playlists:l.data,loading:!1}))}));var B=Object(u.g)((function(e){var t=e.album,a=e.history;return r.a.createElement("div",{className:"music-wrapper",onClick:function(){return a.push("/album/".concat(t.id))}},r.a.createElement("div",{className:"music-wrapper__image"},r.a.createElement("img",{src:t.image,alt:t.title})),r.a.createElement("div",{className:"music-wrapper__body"},r.a.createElement("strong",null,t.name),r.a.createElement("small",null,t.artists.length>1?t.artists.map((function(e,a){return e.name+(a!==t.artists.length-1?", ":"")})):t.artists[0].name)))}));var Y=function(e){var t=e.albums;return r.a.createElement("div",{className:"musics-container"},r.a.createElement("div",{className:"musics-container__inner"},t.map((function(e){return r.a.createElement(B,{key:e.id,album:e})}))))};var q=[{routeName:"home",Component:M,exact:!0,path:"/"},{routeName:"playlist",Component:W,exact:!0,path:"/playlist/:id"},{routeName:"playlists",Component:V,exact:!0,path:"/playlists/:id"},{routeName:"search",Component:Object(s.b)((function(e){return{result:e.searchReducer.result,loading:e.searchReducer.loading}}),(function(e){return{fetchResult:function(t){return e(function(e){return function(){var t=Object(C.a)(k.a.mark((function t(a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"FETCH_RESULT"}),t.next=3,L.getSearch(e).catch((function(){return a({type:"FETCH_RESULT_FAILED"})}));case 3:if(!(n=t.sent).success){t.next=7;break}return a({type:"FETCH_RESULT_SUCCESS",payload:n.data}),t.abrupt("return");case 7:a({type:"FETCH_RESULT_FAILED"});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Object(u.g)((function(e){var t=e.match.params.query,a=e.fetchResult,c=e.result,i=e.loading;return Object(n.useEffect)((function(){a(t)}),[]),r.a.createElement("main",{className:"container"},i?r.a.createElement(m,{loading:!0}):c?r.a.createElement("div",{className:"search-columns"},Object.keys(c).map((function(e){return"clients"!==e&&c[e].length?r.a.createElement("section",{key:e},r.a.createElement("h2",{className:"section-title"},e.substring(0,1).toUpperCase()+e.substring(1,e.length)),{artists:r.a.createElement(N,{noSlide:!0,artists:c[e]}),musics:r.a.createElement(v,{musics:c[e]}),albums:r.a.createElement(Y,{albums:c[e]}),playlists:r.a.createElement(O,{noSlide:!0,playlists:c[e]})}[e]):null}))):null)}))),exact:!0,path:"/search/:query"},{routeName:"region",Component:M,exact:!0,path:"/region/:region"},{routeName:"artist",Component:Object(s.b)(null,(function(e){return{setCurrentPlaylist:function(t){return e(p(t))}}}))(Object(u.g)((function(e){var t=e.setCurrentPlaylist,a=e.match,c=e.history,i=a.params.id,s=Object(n.useState)({data:{},loading:!0}),l=Object(U.a)(s,2),u=l[0],d=l[1],g=function(){var e=Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(Object(A.a)(Object(A.a)({},u),{},{loading:!0})),e.next=3,L.getArtist(i);case 3:(t=e.sent).success?d({data:Object(A.a)(Object(A.a)({},t.data),{},{top_songs:t.data.top_songs.length?t.data.top_songs.reduce((function(e,t){return e.find((function(e){return e.id===t.id}))?e:[].concat(Object(o.a)(e),[t])}),[]):[],last_songs:t.data.last_songs.length?t.data.last_songs.reduce((function(e,t){return e.find((function(e){return e.id===t.id}))?e:[].concat(Object(o.a)(e),[t])}),[]):[]}),loading:!1}):c.replace("/");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){t([].concat(Object(o.a)(u.data.top_songs),Object(o.a)(u.data.last_songs)).reduce((function(e,t){return e.find((function(e){return e.id===t.id}))?e:[].concat(Object(o.a)(e),[t])}),[]))};return Object(n.useEffect)((function(){i&&g()}),[]),r.a.createElement("main",{className:"container artist-page"},u.loading?r.a.createElement(m,{loading:u.loading}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex align-items-center justify-content-center flex-column"},r.a.createElement("div",{className:"circle-image"},r.a.createElement("img",{src:u.data.artist.image,alt:u.data.artist.name})),r.a.createElement("h1",null,u.data.artist.name)),u.data.top_songs.length?r.a.createElement("section",null,r.a.createElement("h2",{className:"section-title"},"Top Songs"),r.a.createElement(v,{musics:u.data.top_songs})):"",u.data.last_songs.length?r.a.createElement("section",null,r.a.createElement("h2",{className:"section-title"},"Latest Songs"),u.data.last_songs.map((function(e){return r.a.createElement(G,{setCurrentPlaylist:p,music:e,key:e.id})}))):"",u.data.playlists.length?r.a.createElement("section",null,r.a.createElement("h2",{className:"section-title"},"Playlists"),r.a.createElement(O,{playlists:u.data.playlists})):"",u.data.albums.length?r.a.createElement("section",null,r.a.createElement("h2",{className:"section-title"},"Albums"),r.a.createElement(Y,{albums:u.data.albums})):"",u.data.related_artist.length?r.a.createElement("section",null,r.a.createElement("h2",{className:"section-title"},"Related Artists"),r.a.createElement(N,{artists:u.data.related_artist})):""))}))),exact:!0,path:"/artist/:id"},{routeName:"album",Component:Object(s.b)(null,(function(e){return{setCurrentPlaylist:function(t){return e(p(t))}}}))(Object(u.g)((function(e){var t=e.match.params.id,a=e.history,c=Object(n.useState)({data:{},loading:!0}),i=Object(U.a)(c,2),s=i[0],l=i[1],u=function(){var e=Object(C.a)(k.a.mark((function e(){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(Object(A.a)(Object(A.a)({},s),{},{loading:!0})),e.next=3,L.getAlbum(t);case 3:(n=e.sent).success?l({data:n.data,loading:!1}):a.replace("/");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){t&&u()}),[]),r.a.createElement("main",{className:"container album-page"},s.loading?r.a.createElement(m,{loading:s.loading}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex align-items-center justify-content-center flex-column"},r.a.createElement("div",{className:"circle-image"},r.a.createElement("img",{src:s.data.album.image,alt:s.data.album.name})),r.a.createElement("h1",null,s.data.album.name),r.a.createElement("small",{className:"playlist-artists mt-5"},s.data.album.artists.map((function(e,t){return e.name+(t!==s.data.album.artists.length-1?", ":"")})))),s.data.musics.length?r.a.createElement("section",null,r.a.createElement("h2",{className:"section-title"},"Songs"),r.a.createElement(v,{musics:s.data.musics})):""))}))),exact:!0,path:"/album/:id"}],J=a(47),Z=a.n(J);var K=Object(u.g)((function(e){var t=e.location,a=e.history,c=Object(u.f)(t.pathname,{path:"/search/:query"}),i=Object(n.useState)(c?c.params.query:""),s=Object(U.a)(i,2),o=s[0],m=s[1],d=Object(n.useRef)();return r.a.createElement("header",null,r.a.createElement("div",{className:"container d-flex align-items-center justify-content-start"},r.a.createElement(l.b,{to:"/",title:"Casset, Latest and Trend Musics",target:"_self"},r.a.createElement("img",{src:Z.a,alt:"Casset"})),r.a.createElement("small",null,"Enjoy music without borders!"),r.a.createElement("div",{className:"search-wrapper"},r.a.createElement("input",{type:"text",placeholder:"Looking for something?",onChange:function(e){return t=e.target.value,m(t),d.current&&clearTimeout(d.current),void(d.current=setTimeout((function(){a.push("/search/".concat(t))}),500));var t},value:o}),r.a.createElement("i",{className:"fal fa-search"}))))})),$=a(49),Q=a(48);var X={togglePlay:d,setPos:function(e){return{type:"SET_POS",payload:e}},setDuration:function(e){return{type:"SET_DURATION",payload:e}},setCurrentMusic:g,setInitialized:f},ee=Object(s.b)((function(e){var t=e.playerReducer;return{currentMusic:t.music,isPlaying:t.isPlaying,currentPos:t.currentPos,duration:t.duration,playlist:t.playlist,initialized:t.initialized}}),X)((function(e){var t=e.currentMusic,a=e.initialized,c=e.isPlaying,i=e.currentPos,s=e.togglePlay,l=e.setPos,u=e.setDuration,o=e.duration,m=e.playlist,d=e.setCurrentMusic,g=e.setInitialized,p=Object(n.useRef)(),f=Object(n.useRef)(),E=function(){var e,a=m.findIndex((function(e){return e.id===t.id}));a+1!==m.length?(e=m[a+1],d(e)):(e=Object(U.a)(m,1)[0],d(e))},b=function(){var e,a=m.findIndex((function(e){return e.id===t.id}));a-1!==-1?(e=m[a-1],d(e)):(e=m[m.length-1],d(e))},v=function(){p.current.currentTime=Math.min(p.current.currentTime+10,p.current.duration)},y=function(){p.current.currentTime=Math.max(p.current.currentTime-10,0)},h=function(){p.current&&p.current.unload(),p.current=new Q.Howl({src:[t.link320,t.link128,t.link64],html5:!0,preload:"metadata",onload:function(){return u(p.current.duration())}}),p.current._sounds[0]._node.title=t.name,"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:t.name,artist:t.artists&&t.artists.length?t.artists.length>1?t.artists.map((function(e,a){return e.name+(a!==t.artists.length-1?", ":"")})):t.artists[0].name:"-",album:"",artwork:[{src:t.thumbnail||t.cover,sizes:"96x96",type:"image/png"},{src:t.thumbnail||t.cover,sizes:"128x128",type:"image/png"},{src:t.thumbnail||t.cover,sizes:"192x192",type:"image/png"},{src:t.thumbnail||t.cover,sizes:"256x256",type:"image/png"},{src:t.cover||t.thumbnail,sizes:"384x384",type:"image/png"},{src:t.cover||t.thumbnail,sizes:"512x512",type:"image/png"}]}),navigator.mediaSession.setActionHandler("play",s),navigator.mediaSession.setActionHandler("pause",s),navigator.mediaSession.setActionHandler("seekbackward",y),navigator.mediaSession.setActionHandler("seekforward",v),navigator.mediaSession.setActionHandler("previoustrack",b),navigator.mediaSession.setActionHandler("nexttrack",E)),a&&(p.current.play(),c||s())};Object(n.useEffect)((function(){(t.link320||t.link128||t.link64)&&h()}),[t]),Object(n.useEffect)((function(){p.current&&(c?(f.current=setInterval((function(){l(p.current.seek())}),500),p.current.play()):(clearInterval(f.current),f.current=null,p.current.pause()))}),[c]);var _=function(e){return Number(e).toFixed(0)},O=function(){var e=t.id?r.a.createElement("img",{src:t.cover,alt:t.name||"-"}):"",a=r.a.createElement("strong",null,t.name||"-"),n=r.a.createElement("small",null,t.artists&&t.artists.length?t.artists.length>1?t.artists.map((function(e,a){return e.name+(a!==t.artists.length-1?", ":"")})):t.artists[0].name:""),u=r.a.createElement("div",null,a,n),m=r.a.createElement(r.a.Fragment,null,r.a.createElement("strong",null,"Start Playing Something..."),r.a.createElement("div",null,r.a.createElement("b",null,"-"))),d=r.a.createElement("b",null,_(i/60),":",i%60<10?"0".concat(_(i%60)):_(i%60)),f=r.a.createElement("small",null,"/",_(o/60),":",o%60<10?"0".concat(_(o%60)):_(o%60)),v=r.a.createElement("div",null,d,f),y=r.a.createElement($.a,{className:"player-inner__center__seekbar",thumbClassName:"player-inner__center__seekbar__filled__thumb",trackClassName:"player-inner__center__seekbar__filled",renderThumb:function(e){return r.a.createElement("div",e)},onChange:function(e){return l(t=e),void p.current.seek(t);var t},min:0,value:i,max:o||100}),h=r.a.createElement("i",{className:"fal fa-backward",onClick:b}),O=r.a.createElement("i",{className:"fal fa-forward",onClick:E}),j=r.a.createElement("i",{className:"fal ".concat(c?"fa-pause":"fa-play"),onClick:function(){g(!0),s()}}),N=r.a.createElement("div",{className:"player-inner__right__actions"},h,j,O);return{left:r.a.createElement("div",{className:"player-inner__left"},r.a.createElement("div",{className:"player-inner__left__cover"},e)),center:r.a.createElement("div",{className:"player-inner__center"},r.a.createElement("div",{className:"player-inner__center__details"},t.id?r.a.createElement(r.a.Fragment,null,u,v):m),y),right:r.a.createElement("div",{className:"player-inner__right"},N)}};return r.a.createElement("div",{className:"player-wrapper"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"player-inner"},O().left,O().center,O().right)))})),te=a(23),ae=a.n(te),ne={persian:{name:"persian",slug:"ir"},global:{name:"global",slug:"us"},init:function(){ae.a.get("region")||ae.a.set("region","ir")},set:function(e){return ae.a.set("region",e)},get:function(){return ae.a.get("region")?ae.a.get("region"):(ne.init(),"ir")}},re=ne;var ce=Object(u.g)((function(e){var t=e.location,a=e.history,n=Object(u.f)(t.pathname,{path:"/region/:region"});return r.a.createElement("aside",null,r.a.createElement("strong",null,"Regions"),r.a.createElement("ul",null,r.a.createElement("li",{className:n&&n.params.region!==re.global.name?"":"active",onClick:function(){return a.push("/region/".concat(re.global.name))}},r.a.createElement("i",{className:"fal fa-globe-americas"}),"Global"),r.a.createElement("li",{className:n&&n.params.region===re.persian.name?"active":"",onClick:function(){return a.push("/region/".concat(re.persian.name))}},r.a.createElement("i",{className:"fal fa-flag"}),"Persian")))})),ie=function(){return r.a.createElement(l.a,null,r.a.createElement("div",{className:"app"},r.a.createElement(ce,null),r.a.createElement("div",{className:"page"},r.a.createElement(K,null),r.a.createElement(u.d,null,q.map((function(e){return r.a.createElement(u.b,{key:e.path,exact:!!e.exact,path:e.path,component:function(t){var a=t.match.params;return r.a.createElement(e.Component,{key:a.id||a.query||a.region})}})})),r.a.createElement(u.b,{component:function(){return r.a.createElement(u.a,{to:"/"})}})),r.a.createElement(ee,null))))},se=a(22),le=a(50),ue=a(15),oe={global:{musicsFind:{data:[],loading:!1},vitrines:{data:[],loading:!1}},persian:{musicsFind:{data:[],loading:!1},vitrines:{data:[],loading:!1}}},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_MUSICS_FIND":return Object(A.a)(Object(A.a)({},e),{},Object(ue.a)({},t.region,Object(A.a)(Object(A.a)({},e[t.region]),{},{musicsFind:Object(A.a)(Object(A.a)({},e[t.region].musicsFind),{},{loading:!0})})));case"FETCH_MUSICS_FIND_SUCCESS":return Object(A.a)(Object(A.a)({},e),{},Object(ue.a)({},t.region,Object(A.a)(Object(A.a)({},e[t.region]),{},{musicsFind:{data:t.payload,loading:!1}})));case"FETCH_MUSICS_FIND_FAILED":return Object(A.a)(Object(A.a)({},e),{},Object(ue.a)({},t.region,Object(A.a)(Object(A.a)({},e[t.region]),{},{musicsFind:Object(A.a)(Object(A.a)({},e[t.region].musicsFind),{},{loading:!1})})));case"FETCH_VITRINES":return Object(A.a)(Object(A.a)({},e),{},Object(ue.a)({},t.region,Object(A.a)(Object(A.a)({},e[t.region]),{},{vitrines:Object(A.a)(Object(A.a)({},e[t.region].vitrines),{},{loading:!0})})));case"FETCH_VITRINES_SUCCESS":return Object(A.a)(Object(A.a)({},e),{},Object(ue.a)({},t.region,Object(A.a)(Object(A.a)({},e[t.region]),{},{vitrines:{data:t.payload,loading:!1}})));case"FETCH_VITRINES_FAILED":return Object(A.a)(Object(A.a)({},e),{},Object(ue.a)({},t.region,Object(A.a)(Object(A.a)({},e[t.region]),{},{vitrines:Object(A.a)(Object(A.a)({},e[t.region].vitrines),{},{loading:!1})})));default:return e}},de={isPlaying:!1,music:{},playlist:[],currentPos:0,duration:0,initialized:!1},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_PLAY":return Object(A.a)(Object(A.a)({},e),{},{isPlaying:!e.isPlaying});case"SET_MUSIC":return Object(A.a)(Object(A.a)({},e),{},{music:t.payload,isPlaying:!0});case"SET_PLAYLIST":return Object(A.a)(Object(A.a)({},e),{},{playlist:t.payload});case"SET_POS":return Object(A.a)(Object(A.a)({},e),{},{currentPos:t.payload});case"SET_DURATION":return Object(A.a)(Object(A.a)({},e),{},{duration:t.payload});case"SET_INITIALIZED":return Object(A.a)(Object(A.a)({},e),{},{initialized:t.payload});default:return e}},pe={result:{},loading:!1},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_RESULT":return Object(A.a)(Object(A.a)({},e),{},{loading:!0});case"FETCH_RESULT_SUCCESS":return Object(A.a)(Object(A.a)({},e),{},{result:t.payload,loading:!1});case"FETCH_RESULT_FAILED":return Object(A.a)(Object(A.a)({},e),{},{result:null,loading:!1});default:return e}},Ee=Object(se.c)({homeReducer:me,playerReducer:ge,searchReducer:fe}),be=Object(se.d)(Ee,Object(se.a)(le.a));a(105);var ve=function(){return r.a.createElement(s.a,{store:be},r.a.createElement(ie,null))},ye=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function he(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?t&&t.onUpdate&&t.onUpdate(e):t&&t.onSuccess&&t.onSuccess(e))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ve,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/marta",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/marta","/service-worker.js");ye?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):he(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){}))):he(t,e)}))}}({onUpdate:function(e){var t=document.getElementById("update-block"),a=document.getElementById("update-button");t.classList.add("show"),a.addEventListener("click",(function(){e&&e.waiting&&e.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload()}))}})},47:function(e,t,a){e.exports=a.p+"static/media/logo.302783ca.svg"},51:function(e,t,a){e.exports=a(106)},56:function(e,t,a){}},[[51,1,2]]]);
//# sourceMappingURL=main.115b4797.chunk.js.map