(this.webpackJsonpcasset=this.webpackJsonpcasset||[]).push([[0],{39:function(e,t,a){e.exports=a.p+"static/media/logo.8a4e1940.svg"},41:function(e,t,a){e.exports=a(88)},46:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),i=a.n(c),l=(a(46),a(11)),s=a(3),u=a(10);var o=function(e){return e.loading?r.a.createElement("div",{className:"loading"},r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))):e.children},m=function(e){return{type:"SET_MUSIC",payload:e}};var d=Object(u.b)((function(e){return{currentMusic:e.playerReducer.music,isPlaying:e.playerReducer.isPlaying}}),(function(e){return{setMusic:function(t){return e(m(t))},togglePlay:function(){return e({type:"TOGGLE_PLAY"})}}}))((function(e){var t=e.music,a=e.currentMusic,n=e.setMusic,c=e.togglePlay,i=e.isPlaying;return r.a.createElement("div",{className:"music-wrapper",onClick:function(){return a.id===t.id?c():n(t)}},r.a.createElement("div",{className:"music-wrapper__image"},a.id===t.id?r.a.createElement("div",{className:"music-wrapper__image__overlay"},r.a.createElement("i",{className:"fal "+(i?"fa-pause":"fa-play")})):"",r.a.createElement("img",{src:t.cover,alt:t.title})),r.a.createElement("div",{className:"music-wrapper__body"},r.a.createElement("strong",null,t.name),r.a.createElement("small",null,t.artists.length>1?t.artists.map((function(e,a){return e.name+(a!==t.artists.length-1?", ":"")})):t.artists[0].name)))}));var p=function(e){var t=e.musics,a=e.loading,n=e.title;return r.a.createElement(o,{loading:a},r.a.createElement("h2",{className:"section-title"},n),r.a.createElement("div",{className:"musics-container"},r.a.createElement("div",{className:"musics-container__inner"},t.map((function(e,t){return r.a.createElement(d,{key:t,music:e})})))))},E=a(38),f=a.n(E);a(66),a(67);var y=Object(s.g)((function(e){var t=e.playlist;return r.a.createElement("div",{className:"music-wrapper playlist-wrapper",onClick:function(){return e.history.push("/playlist/".concat(t.id))}},r.a.createElement("div",{className:"music-wrapper__image playlist-wrapper__image"},r.a.createElement("img",{src:t.image,alt:t.name})),r.a.createElement("div",{className:"music-wrapper__body playlist-wrapper__body"},r.a.createElement("strong",null,t.name)))}));var g=function(e){var t=e.playlists,a=(e.loading,{dots:!1,infinite:!1,speed:250,slidesToScroll:2,variableWidth:!0});return r.a.createElement("div",{className:"musics-container playlists-container"},r.a.createElement(f.a,a,t.map((function(e,t){return r.a.createElement("div",{className:"slick-item-outer"},r.a.createElement(y,{key:t,playlist:e}))}))))};var v=function(e){var t=e.data,a=t.name,n=t.type,c=t.data;return r.a.createElement("div",{className:"vitrine-wrapper"+(e.hero?" hero-wrapper":"")},r.a.createElement("h2",{className:"section-title vitrine-title"},a),"musics"===n?r.a.createElement(p,{musics:c,loading:!1}):r.a.createElement(g,{playlists:c,loading:!1}))},_=a(9),b=a.n(_),h=a(12),N=a(22),O=a.n(N),j="https://cassetmusic.com/api/v1",S=function(e,t){return t(e.data)},I=function(e,t){return e.response&&t(e.response.data),console.error(e)},P={getMusics:function(){return new Promise((function(e){O()({url:"".concat(j,"/musics"),method:"GET"}).then((function(t){return S(t,e)})).catch((function(t){return I(t,e)}))}))},getPlaylistsVitrines:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"us";return new Promise((function(a){O()({url:"".concat(j,"/playlists/vitrines?count=").concat(e,"&region=").concat(t),method:"GET"}).then((function(e){return S(e,a)})).catch((function(e){return I(e,a)}))}))},getPlaylistById:function(e){return new Promise((function(t){O()({url:"".concat(j,"/playlist?id=").concat(e),method:"GET"}).then((function(e){return S(e,t)})).catch((function(e){return I(e,t)}))}))}};var w=Object(u.b)((function(e){return{musicsFind:e.homeReducer.musicsFind,vitrines:e.homeReducer.vitrines}}),(function(e){return{fetchMusicsFind:function(){return e(function(){var e=Object(h.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_MUSICS_FIND"}),e.next=3,P.getMusics();case 3:if(!(a=e.sent).success){e.next=9;break}return n=a.data,e.abrupt("return",t({payload:n,type:"FETCH_MUSICS_FIND_SUCCESS"}));case 9:return e.abrupt("return",t({type:"FETCH_MUSICS_FIND_FAILED"}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},fetchVitrines:function(){return e(function(){var e=Object(h.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_VITRINES"}),e.next=3,P.getPlaylistsVitrines();case 3:if(!(a=e.sent).success){e.next=9;break}return n=a.data,e.abrupt("return",t({payload:n,type:"FETCH_VITRINES_SUCCESS"}));case 9:return e.abrupt("return",t({type:"FETCH_VITRINES_FAILED"}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.musicsFind,a=e.vitrines,c=e.fetchMusicsFind,i=e.fetchVitrines;return Object(n.useEffect)((function(){t.data.length||c(),a.data.length||i()}),[]),r.a.createElement("main",{className:"container"},a.loading?r.a.createElement(o,{loading:!0}):a.data.filter((function(e){return"hero_sliders"===e.type})).map((function(e){return r.a.createElement(v,{hero:!0,loading:!0,data:e})})),r.a.createElement(p,{title:"Discover New Music",musics:t.data,loading:t.loading}),a.loading?r.a.createElement(o,{loading:!0}):a.data.filter((function(e){return"hero_sliders"!==e.type})).map((function(e){return r.a.createElement(v,{data:e})})))})),T=a(1),F=a(17);var k=Object(u.b)((function(e){return{currentMusic:e.playerReducer.music,isPlaying:e.playerReducer.isPlaying}}),(function(e){return{setMusic:function(t){return e(m(t))},togglePlay:function(){return e({type:"TOGGLE_PLAY"})}}}))((function(e){var t=e.music,a=e.currentMusic,n=e.setMusic,c=e.togglePlay,i=e.isPlaying;return r.a.createElement("div",{className:"track"+(a.id===t.id?" active":""),onClick:function(){return a.id===t.id?c():n(t)}},r.a.createElement("div",{className:"track__image"},r.a.createElement("img",{src:t.thumbnail&&t.thumbnail.length?t.thumbnail:t.cover,alt:t.name})),r.a.createElement("div",{className:"track__body"},r.a.createElement("div",{className:"d-flex align-items-center justify-content-start"},r.a.createElement("h2",null,t.name),r.a.createElement("h3",null,t.artists.map((function(e,a){return e.name+(a!==t.artists.length-1?", ":"")})))),r.a.createElement("div",{className:"d-flex align-items-center justify-content-end"},r.a.createElement("b",{className:"play-count"},t.play_count||"-"," ",r.a.createElement("small",null,"plays")),a.id===t.id&&i?r.a.createElement("i",{className:"fal fa-pause"}):r.a.createElement("i",{className:"fal fa-play"}))))}));var C=[{routeName:"home",component:w,exact:!0,path:"/"},{routeName:"playlist",component:Object(s.g)((function(e){var t=Object(n.useState)(e.match.params.id),a=Object(F.a)(t,1)[0],c=Object(n.useState)({data:{},loading:!0}),i=Object(F.a)(c,2),l=i[0],s=i[1],u=function(){var t=Object(h.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(Object(T.a)(Object(T.a)({},l),{},{loading:!0})),t.next=3,P.getPlaylistById(a);case 3:(n=t.sent).success?s({data:n.data,loading:!1}):e.history.replace("/");case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){a&&u()}),[]),r.a.createElement("main",{className:"container"},l.loading?r.a.createElement(o,{loading:l.loading}):l.data.musics?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex align-items-center justify-content-center flex-column"},r.a.createElement("div",{className:"circle-image"},r.a.createElement("img",{src:l.data.playlist.image,alt:l.data.playlist.name})),r.a.createElement("h1",null,l.data.playlist.name),r.a.createElement("small",{className:"playlist-artists mt-5"},l.data.artists.map((function(e,t){return e.name+(t!==l.data.artists.length-1?", ":"")}))),r.a.createElement("div",{className:"tags-wrapper"},l.data.categories.map((function(e,t){return r.a.createElement("span",{key:t,className:"tag"},e.name)})))),r.a.createElement("div",{className:"tracks-wrapper"},l.data.musics.map((function(e,t){return r.a.createElement(k,{music:e,key:t})})))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"section-title"},"Playlists"),r.a.createElement(g,{playlists:l.data})))})),exact:!0,path:"/playlist/:id"},{routeName:"playlists",component:Object(s.g)((function(e){var t=e.match.params.id,a=Object(n.useState)({data:{},loading:!0}),c=Object(F.a)(a,2),i=c[0],l=c[1],s=function(){var a=Object(h.a)(b.a.mark((function a(){var n;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return l(Object(T.a)(Object(T.a)({},i),{},{loading:!0})),a.next=3,P.getPlaylistById(t);case 3:(n=a.sent).success?l(n.data):e.history.replace("/");case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(n.useEffect)((function(){t&&s()}),[]),r.a.createElement("main",{className:"container"},r.a.createElement(g,{playlists:i.data,loading:!1}))})),exact:!0,path:"/playlists/:id"}],M=a(39),x=a.n(M);var R=function(e){return r.a.createElement("header",null,r.a.createElement("div",{className:"container d-flex align-items-center justify-content-start"},r.a.createElement(l.b,{to:"/",title:"Casset, Latest and Trend Musics",target:"_self"},r.a.createElement("img",{src:x.a,alt:"Casset"})),r.a.createElement("small",null,"Enjoy music without borders!")))};var D=Object(u.b)((function(e){return{currentMusic:e.playerReducer.music,isPlaying:e.playerReducer.isPlaying,currentPos:e.playerReducer.currentPos,duration:e.playerReducer.duration}}),(function(e){return{togglePlay:function(){return e({type:"TOGGLE_PLAY"})},setPos:function(t){return e({type:"SET_POS",payload:t})},setDuration:function(t){return e({type:"SET_DURATION",payload:t})}}}))((function(e){var t=e.currentMusic,a=e.isPlaying,c=e.currentPos,i=e.togglePlay,l=e.setPos,s=e.setDuration,u=e.duration,o=Object(n.useRef)(new Audio),m=Object(n.useRef)();return Object(n.useEffect)((function(){(t.link320||t.link128||t.link64)&&(o.current.src=t.link320||t.link128||t.link64,o.current.onloadedmetadata=function(){s(o.current.duration)},o.current.play(),a||i())}),[t]),Object(n.useEffect)((function(){a?(m.current=setInterval((function(){l(o.current.currentTime)}),500),o.current.play()):(clearInterval(m.current),m.current=null,o.current.pause())}),[a]),r.a.createElement("div",{className:"player-wrapper"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"player-inner"},r.a.createElement("div",{className:"player-inner__left"},r.a.createElement("div",{className:"player-inner__left__cover"},t.id?r.a.createElement("img",{src:t.cover||"",alt:t.name||"-"}):"")),r.a.createElement("div",{className:"player-inner__center"},r.a.createElement("div",{className:"player-inner__center__details"},t.id?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("strong",null,t.name||"-"),r.a.createElement("small",null,t.artists.length?t.artists.length>1?t.artists.map((function(e,a){return e.name+(a!==t.artists.length-1?", ":"")})):t.artists[0].name:"")),r.a.createElement("div",null,r.a.createElement("b",null,parseInt(c/60),":",c%60<10?"0"+parseInt(c%60):parseInt(c%60)),r.a.createElement("small",null,"/",parseInt(u/60),":",u%60<10?"0"+parseInt(u%60):parseInt(u%60)))):r.a.createElement(r.a.Fragment,null,r.a.createElement("strong",null,"Start Playing Something..."),r.a.createElement("div",null,r.a.createElement("b",null,"-")))),r.a.createElement("div",{className:"player-inner__center__seekbar"},r.a.createElement("div",{className:"player-inner__center__seekbar__filled",style:{width:c>0?100*c/u+"%":0}},r.a.createElement("div",{className:"player-inner__center__seekbar__filled__thumb"})))),r.a.createElement("div",{className:"player-inner__right"},r.a.createElement("div",{className:"player-inner__right__actions"},r.a.createElement("i",{className:"fal fa-backward"}),r.a.createElement("i",{className:"fal "+(a?"fa-pause":"fa-play"),onClick:i}),r.a.createElement("i",{className:"fal fa-forward"}))))))})),L=function(){return r.a.createElement(l.a,{basename:"/casset"},r.a.createElement(R,null),r.a.createElement(s.d,null,C.map((function(e,t){return r.a.createElement(s.b,{key:t,exact:!!e.exact,path:e.path,component:function(t){return r.a.createElement(e.component,{key:t.match.params.id})}})})),r.a.createElement(s.b,{component:function(){return r.a.createElement(s.a,{to:"/"})}})),r.a.createElement(D,null))},U=(a(87),a(15)),A=a(40),H={musicsFind:{data:[],loading:!1},vitrines:{data:[],loading:!1}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_MUSICS_FIND":return Object(T.a)(Object(T.a)({},e),{},{musicsFind:Object(T.a)(Object(T.a)({},e.musicsFind),{},{loading:!0})});case"FETCH_MUSICS_FIND_SUCCESS":return Object(T.a)(Object(T.a)({},e),{},{musicsFind:{data:t.payload,loading:!1}});case"FETCH_MUSICS_FIND_FAILED":return Object(T.a)(Object(T.a)({},e),{},{musicsFind:Object(T.a)(Object(T.a)({},e.musicsFind),{},{loading:!1})});case"FETCH_VITRINES":return Object(T.a)(Object(T.a)({},e),{},{vitrines:Object(T.a)(Object(T.a)({},e.vitrines),{},{loading:!0})});case"FETCH_VITRINES_SUCCESS":return Object(T.a)(Object(T.a)({},e),{},{vitrines:{data:t.payload,loading:!1}});case"FETCH_VITRINES_FAILED":return Object(T.a)(Object(T.a)({},e),{},{vitrines:Object(T.a)(Object(T.a)({},e.vitrines),{},{loading:!1})});default:return e}},V={isPlaying:!1,music:{},playlist:[],currentPos:0,duration:0},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_PLAY":return Object(T.a)(Object(T.a)({},e),{},{isPlaying:!e.isPlaying});case"SET_MUSIC":return Object(T.a)(Object(T.a)({},e),{},{music:t.payload,isPlaying:!0});case"SET_PLAYLIST":return Object(T.a)(Object(T.a)({},e),{},{playlist:t.payload});case"SET_POS":return Object(T.a)(Object(T.a)({},e),{},{currentPos:t.payload});case"SET_DURATION":return Object(T.a)(Object(T.a)({},e),{},{duration:t.payload});default:return e}},Y=Object(U.c)({homeReducer:G,playerReducer:B}),W=Object(U.d)(Y,Object(U.a)(A.a));var J=function(){return r.a.createElement(u.a,{store:W},r.a.createElement(L,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.f45da574.chunk.js.map